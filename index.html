<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matlogg</title>
<style>
  body {
    font-family: sans-serif;
    padding: 20px;
  }
  textarea {
    width: 100%;
    font-size: 20px;
    padding: 12px;
    margin-bottom: 12px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button {
    width: 100%;
    font-size: 22px;
    padding: 14px;
    border-radius: 8px;
    border: none;
    color: white;
    background-color: #007AFF;
    margin-bottom: 10px;
  }
  .quick-buttons button {
    background-color: #34C759;
    font-size: 18px;
    padding: 10px;
    margin-bottom: 6px;
  }
  #msg {
    font-size: 18px;
    color: green;
    padding: 10px 0;
    display: none;
  }
</style>
</head>
<body>

<h2>Logga m√•ltid</h2>

<!-- Snabbknappar -->
<div class="quick-buttons">
  <button type="button" onclick="submitRecipe('proteinshake')">ü•§ proteinshake</button>
  <button type="button" onclick="submitRecipe('kycklingsallad')">ü•ó kycklingsallad</button>
  <button type="button" onclick="submitRecipe('mango')">ü•≠ mango</button>
  <button type="button" onclick="submitRecipe('avokado')">ü•ë avokado</button>
  <button type="button" onclick="submitRecipe('2 √§gg')">ü•öü•ö 2 √§gg</button>
</div>

<textarea id="mealInput" name="meal" autofocus placeholder="Beskriv m√•ltiden..." rows="3"></textarea>
<button onclick="sendMeal()">Logga</button>

<div id="msg">‚úîÔ∏è M√•ltid loggad!</div>

<script>

const webhookURL = "https://hook.eu1.make.com/vrjzc3t5peepxuhbn8s4lm6ge8styvqi";

function showMessage() {
  document.getElementById('msg').style.display = "block";
  setTimeout(() => document.getElementById('msg').style.display = "none", 2000);
}

function sendMeal() {
  const meal = document.getElementById('mealInput').value;
  fetch(webhookURL, {
    method: "POST",
    headers: {"Content-Type": "application/x-www-form-urlencoded"},
    body: "meal=" + encodeURIComponent(meal)
  })
  .then(() => {
    document.getElementById('mealInput').value = '';
    showMessage();
  })
}

function submitRecipe(code) {
  document.getElementById('mealInput').value = '@' + code;
  sendMeal();
}

</script>

</body>
</html>
